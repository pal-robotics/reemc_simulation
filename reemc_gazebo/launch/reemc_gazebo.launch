<?xml version="1.0" encoding="UTF-8"?>

<launch>
  <arg name="world" default="small_office" />  <!-- small_office, empty -->
  <arg name="robot" default="full" />  <!-- full, lower_body -->
  <arg name="gzname" default="gazebo" />  <!-- gazebo, gzserver-->
  <arg name="gzpose" default="-x 0.0 -y 8.0 -z 0.0 -R 0.0 -P 0.0 -Y 0.0"/>

  <!-- start up world -->
  <include file="$(find reemc_gazebo)/launch/run_gazebo.launch">
    <arg name="gzworld" value="$(find reemc_gazebo)/worlds/$(arg world).world" />
    <arg name="gzname" value="$(arg gzname)" />
  </include>

  <!-- load REEM-C robot in simulation -->
  <include file="$(find reemc_gazebo)/launch/reemc_spawn_$(arg robot).launch">
    <arg name="gzpose" value="$(arg gzpose)"/>
  </include>

  <!-- start REEM-C robot -->
  <include file="$(find reemc_gazebo)/launch/reemc_bringup.launch">
    <arg name="robot" value="$(arg robot)"/>
  </include>

  <!-- execute pre-recorded motions -->
  <rosparam file="$(find reemc_gazebo)/config/reemc_motions.yaml" command="load" />
  <node pkg="play_motion" type="play_motion" name="play_motion" />

  <!--start joystick-->
  <include file="$(find reemc_gazebo)/launch/joystick_teleop.launch">
    <arg name="cmd_vel" value="walking_controller/cmd_vel" />
  </include>

</launch>
